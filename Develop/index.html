<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Work Day Scheduler</title>
  </head>

  <body>
    <header class="jumbotron">
      <h1 class="display-3">Work Day Scheduler</h1>
      <p class="lead">A simple calendar app for scheduling your work day</p>
      <p id="currentDay" class="lead"></p>
    </header>
    <div class="container">
      <!-- Timeblocks go here -->
      <!-- 9am -->
      <div class="container time-block" id="0">
        <div class="row">
        <div class="col-1 hour">9AM</div>
        <textarea class="col-10 description" id="9">  
        </textarea>
        <button class="saveBtn">
          <i class="far fa-save"></i>
        </button>
        </div>
      </div>
      <!-- 10am -->
      <div class="container time-block" id="1">
        <div class="row">
        <div class="col-1 hour">10AM</div>
        <textarea class="col-10 description" id="10">  
        </textarea>
        <button class="saveBtn">
          <i class="far fa-save"></i>
        </button>
        </div>
      </div>
      <!-- 11am -->
      <div class="container time-block" id="2">
        <div class="row">
        <div class="col-1 hour">11AM</div>
        <textarea class="col-10 description" id="11">  
        </textarea>
        <button class="saveBtn">
          <i class="far fa-save"></i>
        </button>
        </div>
      </div>
      <!-- 12pm -->
      <div class="container time-block" id="3">
        <div class="row">
        <div class="col-1 hour">12PM</div>
        <textarea class="col-10 description" id="12">  
        </textarea>
        <button class="saveBtn">
          <i class="far fa-save"></i>
        </button>
        </div>
      </div>
      <!-- 1pm -->
      <div class="container time-block" id="4">
        <div class="row">
        <div class="col-1 hour">1PM</div>
        <textarea class="col-10 description" id="13">  
        </textarea>
        <button class="saveBtn">
          <i class="far fa-save"></i>
        </button>
        </div>
      </div>
      <!-- 2pm -->
      <div class="container time-block" id="5">
        <div class="row">
        <div class="col-1 hour">2PM</div>
        <textarea class="col-10 description" id="14">  
        </textarea>
        <button class="saveBtn">
          <i class="far fa-save"></i>
        </button>
        </div>
      </div>
      <!-- 3pm -->
      <div class="container time-block" id="6">
        <div class="row">
        <div class="col-1 hour">3PM</div>
        <textarea class="col-10 description" id="15">  
        </textarea>
        <button class="saveBtn">
          <i class="far fa-save"></i>
        </button>
        </div>
      </div>
      <!-- 4pm -->
       <div class="container time-block" id="7">
         <div class="row">
        <div class="col-1 hour">4PM</div>
        <textarea class="col-10 description" id="16">  
        </textarea>
        <button class="saveBtn">
          <i class="far fa-save"></i>
        </button>
         </div>
      </div>
      <!-- 5pm -->
        <div class="container time-block" id="8">
          <div class="row">
        <div class="col-1 hour">5PM</div>
        <textarea class="col-10 description" id="17">  
        </textarea>
        <button class="saveBtn">
          <i class="far fa-save"></i>
        </button>
        </div>
      </div>


    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>

    <script>

      // vars 
      var textInput = $("textarea");
      var saveBtn = $("button");
      var savedTodos = [];
      var currentHour = moment().hour(); 
      var textBackground = $("textarea")
      var hourNine = ($("#9"));
      var hourTen = ($("#10"));
      var hourEleven = ($("#11"));
      var hourTewelve = ($("#12"));
      var hourThirteen = ($("#13"));
      var hourFourteen = ($("#14"));
      var hourFifthteen = ($("#15"));
      var hourSixteen = ($("#16"));
      var hourSeventeen = ($("#17"));

      // add current date and time to header
      $("#currentDay").append(moment().format('LLLL'));

      // function readFromLocalStorage()

      function readFromLocalStorage() {
        
        for (i = 0; i <= 8; i++) {
          var todoText = localStorage.getItem(i);
          var todoBox = textInput[i];
          todoBox.textContent = todoText;
          }


        if (currentHour > 9) {
          hourNine.attr("class", "col-10 description past");
        } else if (currentHour < 9) {
          hourNine.attr("class", "col-10 description future");
        } else {
          hourNine.attr("class", "col-10 description present");
        }

        if (currentHour > 10) {
          hourTen.attr("class", "col-10 description past");
        } else if (currentHour < 10) {
          hourTen.attr("class", "col-10 description future");
        } else {
          hourTen.attr("class", "col-10 description present");
        }

        if (currentHour > 11) {
          hourEleven.attr("class", "col-10 description past");
        } else if (currentHour < 11) {
          hourEleven.attr("class", "col-10 description future");
        } else {
          hourEleven.attr("class", "col-10 description present");
        }

        if (currentHour > 12) {
          hourTewelve.attr("class", "col-10 description past");
        } else if (currentHour < 12) {
          hourTewelve.attr("class", "col-10 description future");
        } else {
          hourTewelve.attr("class", "col-10 description present");
        }

        if (currentHour > 13) {
          hourThirteen.attr("class", "col-10 description past");
        } else if (currentHour < 13) {
          hourThirteen.attr("class", "col-10 description future");
        } else {
          hourThirteen.attr("class", "col-10 description present");
        }

        if (currentHour > 14) {
          hourFourteen.attr("class", "col-10 description past");
        } else if (currentHour < 14) {
          hourFourteen.attr("class", "col-10 description future");
        } else {
          hourFourteen.attr("class", "col-10 description present");
        }
        
        if (currentHour > 15) {
          hourFifthteen.attr("class", "col-10 description past");
        } else if (currentHour < 15) {
          hourFifthteen.attr("class", "col-10 description future");
        } else {
          hourFifthteen.attr("class", "col-10 description present");
        }

        if (currentHour > 16) {
          hourSixteen.attr("class", "col-10 description past");
        } else if (currentHour < 16) {
          hourSixteen.attr("class", "col-10 description future");
        } else {
          hourSixteen.attr("class", "col-10 description present");
        }

        if (currentHour > 17) {
          hourSeventeen.attr("class", "col-10 description past");
        } else if (currentHour < 17) {
          hourSeventeen.attr("class", "col-10 description future");
        } else {
          hourSeventeen.attr("class", "col-10 description present");
        }

      }
	  
	  // function writeToLocalStorage()
    function writeToLocalStorage(event) {

      localStorage.setItem(block, todos);
    };

	  
	  // call readFromLocalStorage()
    readFromLocalStorage();

    // button click event listener
   $(".time-block").on("click", function(event) {
    if (event.target.className == "saveBtn") {
    block = this.id;
    todos = event.target.previousElementSibling.value;
     writeToLocalStorage(event);
    }
   });
   
	  





    </script>
  </body>
</html>